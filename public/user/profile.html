<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Aroov</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
    
    <link rel="stylesheet" href="style.css"> <link rel="stylesheet" href="profile.css"> </head>
<body>

<nav class="navbar">
    <div class="logo">Aroov Trip.</div>
    <div class="menu-toggle" id="mobile-menu-btn">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </div>
    <div class="nav-links" id="nav-links-container">
        <a href="/user">Explore</a>
        <a href="/user/groups.html">Groups</a>
        <a href="/user/profile.html" class="active profile-chip">
            <img src="" id="navUserImg" alt="Profile">
            <span id="navUserName">Loading...</span>
        </a>
        <a href="/logout" class="btn-logout">Logout</a>
    </div>
</nav>

<div class="profile-container">
    
    <div class="profile-card settings-section">
        <div class="profile-header">
            <img id="profileAvatar" src="https://via.placeholder.com/100" alt="Avatar">
            <div>
                <h2 id="profileNameDisplay">User Name</h2>
                <p id="profileEmailDisplay">user@example.com</p>
            </div>
        </div>

        <form id="profileForm">
            <div class="form-group">
                <label>Display Name</label>
                <input type="text" id="inputName" required>
            </div>

            <div class="form-group">
                <label>I am a...</label>
                <div class="role-selector">
                    <label class="radio-card">
                        <input type="radio" name="role" value="general" onchange="toggleUniversity(false)">
                        <span class="radio-label"> Traveler ğŸŒ</span>
                    </label>
                    <label class="radio-card">
                        <input type="radio" name="role" value="student" onchange="toggleUniversity(true)">
                        <span class="radio-label">Student ğŸ“</span>
                    </label>
                </div>
            </div>

            <div class="form-group hidden" id="uniSection">
                <label>Select University</label>
                <select id="selectUni">
                    <option value="">-- Loading Universities --</option>
                </select>
                <small>Syncs with your academic calendar for semester breaks.</small>
            </div>

            <div class="form-group">
                <label>Trip Budget Preference (RM)</label>
                <div class="budget-inputs">
                    <input type="number" id="budgetMin" placeholder="Min" min="0">
                    <span style="padding:0 10px;">-</span>
                    <input type="number" id="budgetMax" placeholder="Max">
                </div>
            </div>

            <div class="form-group">
                <label>Preferred Trip Types</label>
                <div class="tags-container" id="typeTags">
                    <div class="tag-item" data-val="Nature">Nature ğŸŒ²</div>
                    <div class="tag-item" data-val="Urban">Urban ğŸ™ï¸</div>
                    <div class="tag-item" data-val="Beach">Beach ğŸ–ï¸</div>
                    <div class="tag-item" data-val="Historical">Historical ğŸ›ï¸</div>
                    <div class="tag-item" data-val="Adventure">Adventure ğŸ§—</div>
                </div>
            </div>

            <div class="form-group">
                <label>Preferred Activities</label>
                <div class="tags-container" id="activityTags">
                    <div class="tag-item" data-val="Hiking">Hiking ğŸ¥¾</div>
                    <div class="tag-item" data-val="Food">Food Hunting ğŸœ</div>
                    <div class="tag-item" data-val="Shopping">Shopping ğŸ›ï¸</div>
                    <div class="tag-item" data-val="Relaxing">Relaxing ğŸ’†</div>
                    <div class="tag-item" data-val="Photography">Photography ğŸ“¸</div>
                </div>
            </div>

            <div class="form-group">
                <label>New Password (Optional)</label>
                <input type="password" id="inputPass" placeholder="Leave blank to keep current">
                <small>Must contain 8+ chars, 1 number, 1 symbol (!@#$).</small>
            </div>

            <button type="submit" class="btn-save" id="btnSave">Save Changes</button>
        </form>
    </div>

    <div class="profile-card calendar-section">
        <h3>ğŸ“… Your Availability</h3>
        
        <div class="cal-legend">
            <div><span class="dot dot-green"></span> Sem Break (Uni)</div>
            <div><span class="dot dot-red"></span> Exam (Uni)</div>
            <div><span class="dot dot-grey"></span> Busy (You)</div>
        </div>

        <p class="cal-instruction">Click any date to toggle it as <strong>Busy</strong> or <strong>Free</strong>.</p>
        
        <div id="calendar"></div>
    </div>

</div>

<script src="profile.js"></script>
</body>
</html>